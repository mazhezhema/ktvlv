# ç›®å½•åˆ†å·¥æ ‡æ³¨ï¼ˆå®šç‰ˆï¼‰

> **æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
> **æœ€åæ›´æ–°**ï¼š2025-12-30  
> **çŠ¶æ€**ï¼šâœ… å®šç‰ˆï¼ˆä¸å¯å†äº‰ï¼‰  
> **ç”¨é€”**ï¼šç›®å½• = åˆ†å·¥ = æƒé™ï¼Œ3ç§’æ£€æŸ¥æ³•

---

## ğŸ¯ è§’è‰²å®šä¹‰

- ğŸ§  **PMï¼ˆä½ ï¼‰**ï¼šæ¶æ„ / è¾¹ç•Œ / æ‹æ¿
- ğŸ¨ **å·¥ç¨‹å¸ˆ Aï¼ˆUI / Android èƒŒæ™¯ï¼‰**
- âš™ï¸ **å·¥ç¨‹å¸ˆ Bï¼ˆService / åå°èƒŒæ™¯ï¼‰**
- ğŸ”’ **å¼ºå•ä¾‹ / é«˜é£é™©ï¼ˆPM å¿…é¡» reviewï¼‰**

---

## ğŸ“ å®Œæ•´ç›®å½•æ ‘ï¼ˆå¸¦åˆ†å·¥æ ‡æ³¨ï¼‰

```text
ktv-app/
â”œâ”€ README.md                          ğŸ§  PM
â”œâ”€ CMakeLists.txt / Makefile          ğŸ§  PMï¼ˆç»“æ„ï¼‰âš™ï¸ Bï¼ˆè¡¥å®ç°ï¼‰
â”‚
â”œâ”€ app/
â”‚  â”œâ”€ main/                           ğŸ§  PMï¼ˆè§„åˆ™ï¼‰âš™ï¸ Bï¼ˆå®ç°ï¼‰
â”‚  â”‚  â””â”€ main.c                       ğŸ”’ å•å…¥å£ / ç”Ÿå‘½å‘¨æœŸ
â”‚  â”‚
â”‚  â”œâ”€ event/                          ğŸ§  PMï¼ˆå®šä¹‰ï¼‰âš™ï¸ Bï¼ˆå®ç°ï¼‰
â”‚  â”‚  â”œâ”€ AppEventId.h                 ğŸ§  PMï¼ˆåªä½ èƒ½æ”¹ï¼‰
â”‚  â”‚  â”œâ”€ AppEvent.h                   ğŸ§  PM
â”‚  â”‚  â”œâ”€ AppEventDispatcher.c         ğŸ”’ é€»è¾‘å•ä¾‹
â”‚  â”‚  â””â”€ AppEventDispatcher.h
â”‚  â”‚
â”‚  â”œâ”€ controller/                     ğŸ§  PMï¼ˆæ¨¡æ¿/è¾¹ç•Œï¼‰âš™ï¸ Bï¼ˆä»£å†™ï¼‰
â”‚  â”‚  â”œâ”€ AppController.c              ğŸ”’ é€»è¾‘å•ä¾‹ / æµç¨‹ä¸­æ¢
â”‚  â”‚  â””â”€ AppController.h
â”‚  â”‚
â”‚  â”œâ”€ ui/                             ğŸ¨ å·¥ç¨‹å¸ˆ A
â”‚  â”‚  â”œâ”€ pages/                       ğŸ¨ Aï¼ˆé¡µé¢è´Ÿè´£äººï¼‰
â”‚  â”‚  â”‚  â”œâ”€ HomePage.c
â”‚  â”‚  â”‚  â”œâ”€ SingerPage.c
â”‚  â”‚  â”‚  â””â”€ RankPage.c
â”‚  â”‚  â”‚      ğŸ”’ é¡µé¢å„è‡ªå•ä¾‹ï¼ˆåª show / hideï¼‰
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ state/                       ğŸ§  PMï¼ˆè§„åˆ™ï¼‰ğŸ¨ Aï¼ˆå®ç°ï¼‰
â”‚  â”‚  â”‚  â”œâ”€ UiStateHolder.c           ğŸ”’ é€»è¾‘å•ä¾‹
â”‚  â”‚  â”‚  â””â”€ UiStateHolder.h
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ widgets/                     ğŸ¨ Aï¼ˆçº¯ UI ç»„ä»¶ï¼‰
â”‚  â”‚     â””â”€ LoadingView.c
â”‚  â”‚
â”‚  â”œâ”€ input/                          ğŸ¨ Aï¼ˆUIï¼‰âš™ï¸ Bï¼ˆå¼•æ“ï¼‰
â”‚  â”‚  â”œâ”€ input_controller.c           ğŸ”’ é€»è¾‘å•ä¾‹ï¼ˆä¸ç¢°ç½‘ç»œï¼‰
â”‚  â”‚  â”œâ”€ input_controller.h           ğŸ§  PMï¼ˆè§„åˆ™ï¼‰
â”‚  â”‚  â”œâ”€ input_engine.c               âš™ï¸ Bï¼ˆæœ¬åœ°åŒ¹é…å¼•æ“ï¼‰
â”‚  â”‚  â”œâ”€ input_engine.h
â”‚  â”‚  â”œâ”€ input_cache.c                âš™ï¸ Bï¼ˆå†…å­˜ç´¢å¼•ï¼‰
â”‚  â”‚  â”œâ”€ input_cache.h
â”‚  â”‚  â”œâ”€ input_model.c                ğŸ¨ Aï¼ˆè¾“å…¥çŠ¶æ€ï¼‰
â”‚  â”‚  â””â”€ input_model.h
â”‚  â”‚      ğŸ”’ è¾“å…¥æ³• = ç‹¬ç«‹å­ç³»ç»Ÿï¼ˆä¸å¤ç”¨æ™®é€šController/Serviceï¼‰
â”‚  â”‚
â”‚  â”œâ”€ viewmodeldata/                  âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆå‘½å/è¾¹ç•Œï¼‰
â”‚  â”‚  â”œâ”€ CategoryViewModelData.c      ğŸ”’ é¢†åŸŸå•ä¾‹
â”‚  â”‚  â”œâ”€ CategoryViewModelData.h
â”‚  â”‚  â”œâ”€ SongViewModelData.c          ğŸ”’ é¢†åŸŸå•ä¾‹
â”‚  â”‚  â”œâ”€ SongViewModelData.h
â”‚  â”‚  â”œâ”€ RankViewModelData.c          ğŸ”’ é¢†åŸŸå•ä¾‹
â”‚  â”‚  â””â”€ RankViewModelData.h
â”‚  â”‚
â”‚  â”œâ”€ service/                        âš™ï¸ å·¥ç¨‹å¸ˆ B
â”‚  â”‚  â”œâ”€ CategoryService.c
â”‚  â”‚  â”œâ”€ CategoryService.h
â”‚  â”‚  â”œâ”€ SongService.c
â”‚  â”‚  â”œâ”€ RankService.c
â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  ï¼ˆä¸šåŠ¡é€»è¾‘é›†ä¸­åŒºï¼Œå¯é‡æ„ï¼‰
â”‚  â”‚
â”‚  â”œâ”€ adapter/                        ğŸ”’ é«˜é£é™©åŒº
â”‚  â”‚  â”œâ”€ NetworkClient.c              âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆæ¥å£ï¼‰
â”‚  â”‚  â”œâ”€ NetworkClient.h              ğŸ”’ å¼ºå•ä¾‹ï¼ˆOkHttp å¿ƒæ™ºï¼‰
â”‚  â”‚  â”œâ”€ MediaPlayerManager.c         âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆæ¥å£ï¼‰
â”‚  â”‚  â”œâ”€ MediaPlayerManager.h         ğŸ”’ å¼ºå•ä¾‹ï¼ˆExoPlayer å¿ƒæ™ºï¼‰
â”‚  â”‚  â”œâ”€ DatabaseProvider.c           âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆæ¥å£ï¼‰
â”‚  â”‚  â””â”€ DatabaseProvider.h           ğŸ”’ å¼ºå•ä¾‹ï¼ˆRoom å¿ƒæ™ºï¼‰
â”‚  â”‚
â”‚  â””â”€ util/                           âš™ï¸ Bï¼ˆæˆ–å…¬å…±ï¼‰
â”‚     â”œâ”€ JsonParser.c                 ï¼ˆæ— çŠ¶æ€å·¥å…·ï¼‰
â”‚     â””â”€ TimeUtil.c
â”‚
â”œâ”€ platform/                          ğŸ§  PMï¼ˆè¾¹ç•Œï¼‰âš™ï¸ Bï¼ˆé€‚é…ï¼‰
â”‚  â”œâ”€ log/
â”‚  â”‚  â””â”€ LogService.c                 ğŸ”’ è¿›ç¨‹çº§å•ä¾‹
â”‚  â”œâ”€ lvgl/
â”‚  â”‚  â””â”€ lv_port.c
â”‚  â””â”€ os/
â”‚     â””â”€ sleep.c
â”‚
â””â”€ third_party/                       ğŸ§  PMï¼ˆé€‰å‹é”å®šï¼‰
   â”œâ”€ lvgl/
   â”œâ”€ cjson/
   â””â”€ curl/
```

---

## ğŸ“‹ ä¸€å¥è¯æ€»ç»“æ¯ä¸ªäºº"èƒ½å†™ä»€ä¹ˆ"

### ğŸ§  ä½ ï¼ˆPM / æ¶æ„è£åˆ¤ï¼‰

**èƒ½å†™**ï¼š
- å®š **ç›®å½•ç»“æ„**
- å®š **å‘½å**
- å®š **å•ä¾‹**
- å®š **å“ªäº›ä¸èƒ½å†™**
- Reviewï¼š`event / controller / adapter / viewmodeldata`

**ä¸èƒ½å†™**ï¼š
- ä¸šåŠ¡ä»£ç ï¼ˆService å®ç°ï¼‰
- UI é¡µé¢ä»£ç 

ğŸ‘‰ **ä½ ä¸å†™ä¸šåŠ¡ä»£ç ï¼Œä½†ä½ "æ‹¥æœ‰å¦å†³æƒ"**

---

### ğŸ¨ å·¥ç¨‹å¸ˆ Aï¼ˆAndroid / UIï¼‰

**èƒ½å†™**ï¼š
- `ui/pages` - æ‰€æœ‰é¡µé¢å®ç°
- `ui/widgets` - æ‰€æœ‰ UI ç»„ä»¶
- `ui/state` - UI çŠ¶æ€ç®¡ç†ï¼ˆæŒ‰ PM è§„åˆ™ï¼‰
- `input/input_controller.c` - è¾“å…¥æ³•æ§åˆ¶å™¨ï¼ˆä¸ç¢°ç½‘ç»œï¼‰
- `input/input_model.c` - è¾“å…¥çŠ¶æ€æ¨¡å‹

**ä¸èƒ½ç¢°**ï¼š
- âŒ `service/` - ä¸šåŠ¡é€»è¾‘
- âŒ `adapter/` - é€‚é…å™¨å±‚
- âŒ `viewmodeldata/` - æ•°æ®æ¨¡å‹
- âŒ `event/` - äº‹ä»¶å®šä¹‰ï¼ˆåªèƒ½ä½¿ç”¨ï¼‰
- âŒ `controller/` - æ™®é€šæ§åˆ¶å™¨ï¼ˆåªèƒ½ä½¿ç”¨ï¼‰
- âŒ `input/input_engine.c` - è¾“å…¥æ³•å¼•æ“ï¼ˆå·¥ç¨‹å¸ˆ B è´Ÿè´£ï¼‰
- âŒ `input/input_cache.c` - è¾“å…¥æ³•ç¼“å­˜ï¼ˆå·¥ç¨‹å¸ˆ B è´Ÿè´£ï¼‰

---

### âš™ï¸ å·¥ç¨‹å¸ˆ Bï¼ˆService / åå°ï¼‰

**èƒ½å†™**ï¼š
- `service/` - æ‰€æœ‰ä¸šåŠ¡æœåŠ¡
- `viewmodeldata/` - æ‰€æœ‰æ•°æ®æ¨¡å‹
- `adapter/` - é€‚é…å™¨å®ç°ï¼ˆæŒ‰ PM æ¥å£ï¼‰
- `main/` - å¯åŠ¨æµç¨‹ï¼ˆæŒ‰ PM è§„åˆ™ï¼‰
- `util/` - å·¥å…·å‡½æ•°
- `input/input_engine.c` - è¾“å…¥æ³•å¼•æ“ï¼ˆæœ¬åœ°åŒ¹é…ï¼‰
- `input/input_cache.c` - è¾“å…¥æ³•ç¼“å­˜ï¼ˆå†…å­˜ç´¢å¼•ï¼‰

**ä¸èƒ½ç¢°**ï¼š
- âŒ `ui/pages` - UI é¡µé¢
- âŒ `ui/widgets` - UI æ§ä»¶
- âŒ `ui/state` - UI çŠ¶æ€è§„åˆ™
- âŒ `input/input_controller.c` - è¾“å…¥æ³•æ§åˆ¶å™¨ï¼ˆå·¥ç¨‹å¸ˆ A è´Ÿè´£ï¼‰
- âŒ `input/input_model.c` - è¾“å…¥çŠ¶æ€æ¨¡å‹ï¼ˆå·¥ç¨‹å¸ˆ A è´Ÿè´£ï¼‰
- âŒ `event/AppEventId.h` - Event ID å®šä¹‰ï¼ˆåªèƒ½ä½¿ç”¨ï¼‰

---

## ğŸš§ å·¥ç¨‹å¸ˆè¾¹ç•Œï¼ˆæ ¸å¿ƒè§„åˆ™ï¼‰

### ğŸ¨ å·¥ç¨‹å¸ˆ A çš„è¾¹ç•Œ

**èŒè´£èŒƒå›´**ï¼š
- âœ… **UI å±‚**ï¼šæ‰€æœ‰ LVGL é¡µé¢ã€æ§ä»¶ã€å¸ƒå±€
- âœ… **UI äº¤äº’**ï¼šç”¨æˆ·ç‚¹å‡»ã€è¾“å…¥ã€æ»‘åŠ¨ç­‰äº‹ä»¶å¤„ç†
- âœ… **UI çŠ¶æ€**ï¼šloading/empty/error çŠ¶æ€æ˜¾ç¤ºï¼ˆæŒ‰ PM è§„åˆ™ï¼‰

**è¾¹ç•Œçº¿**ï¼š
- ğŸš§ **ä¸èƒ½ç¢°ä¸šåŠ¡é€»è¾‘**ï¼šä¸èƒ½å†™ Serviceã€ä¸èƒ½è§£æ JSONã€ä¸èƒ½æ“ä½œæ•°æ®åº“
- ğŸš§ **ä¸èƒ½ç¢°åº•å±‚é€‚é…**ï¼šä¸èƒ½å†™ Adapterã€ä¸èƒ½ç›´æ¥è°ƒç”¨ libcurl/TPlayer
- ğŸš§ **ä¸èƒ½å®šä¹‰æ•°æ®ç»“æ„**ï¼šä¸èƒ½å®šä¹‰ ViewModelDataã€ä¸èƒ½å®šä¹‰ Event ID

**äº¤äº’æ–¹å¼**ï¼š
- âœ… é€šè¿‡ `Controller` è°ƒç”¨ä¸šåŠ¡é€»è¾‘
- âœ… é€šè¿‡ `Event` æ¥æ”¶ä¸šåŠ¡ç»“æœ
- âœ… é€šè¿‡ `UiStateHolder` ç®¡ç† UI çŠ¶æ€

**è¶Šç•Œç¤ºä¾‹**ï¼š
```c
// âŒ è¶Šç•Œï¼šå·¥ç¨‹å¸ˆ A åœ¨ UI å±‚ç›´æ¥è°ƒç”¨ Service
#include "service/CategoryService.h"  // ç¦æ­¢ï¼
CategoryService::instance().loadCategories();

// âœ… æ­£ç¡®ï¼šé€šè¿‡ Controller
#include "controller/AppController.h"
AppController::instance().onUiCategoryClicked();
```

---

### âš™ï¸ å·¥ç¨‹å¸ˆ B çš„è¾¹ç•Œ

**èŒè´£èŒƒå›´**ï¼š
- âœ… **ä¸šåŠ¡é€»è¾‘**ï¼šæ‰€æœ‰ Service å®ç°ï¼ˆCategoryã€Songã€Rankï¼‰
- âœ… **æ•°æ®æ¨¡å‹**ï¼šæ‰€æœ‰ ViewModelData å®šä¹‰ï¼ˆæŒ‰ PM å‘½åï¼‰
- âœ… **åº•å±‚é€‚é…**ï¼šAdapter å®ç°ï¼ˆæŒ‰ PM æ¥å£ï¼‰
- âœ… **æ•°æ®è§£æ**ï¼šJSON è§£æã€æ•°æ®åº“æ“ä½œ

**è¾¹ç•Œçº¿**ï¼š
- ğŸš§ **ä¸èƒ½ç¢° UI**ï¼šä¸èƒ½å†™é¡µé¢ã€ä¸èƒ½æ“ä½œ LVGL æ§ä»¶ã€ä¸èƒ½å®šä¹‰ UI çŠ¶æ€
- ğŸš§ **ä¸èƒ½å®šä¹‰æ¥å£**ï¼šä¸èƒ½ä¿®æ”¹ Adapter æ¥å£ã€ä¸èƒ½å®šä¹‰ Event ID
- ğŸš§ **ä¸èƒ½ç›´æ¥æ“ä½œ UI**ï¼šä¸èƒ½è·¨çº¿ç¨‹è°ƒç”¨ LVGL API

**äº¤äº’æ–¹å¼**ï¼š
- âœ… é€šè¿‡ `Event` å‘é€ä¸šåŠ¡ç»“æœç»™ UI
- âœ… é€šè¿‡ `Adapter` è°ƒç”¨åº•å±‚åº“ï¼ˆlibcurlã€TPlayerã€SQLiteï¼‰
- âœ… é€šè¿‡ `Service` å°è£…ä¸šåŠ¡é€»è¾‘

**è¶Šç•Œç¤ºä¾‹**ï¼š
```c
// âŒ è¶Šç•Œï¼šå·¥ç¨‹å¸ˆ B åœ¨ Service å±‚ç›´æ¥æ“ä½œ UI
#include "ui/pages/HomePage.h"  // ç¦æ­¢ï¼
lv_obj_set_text(label, "text");

// âœ… æ­£ç¡®ï¼šé€šè¿‡ Event é€šçŸ¥ UI
#include "event/AppEvent.h"
AppEventDispatcher::instance().post(UI_UPDATE_EVENT);
```

---

### ğŸ”’ å…±åŒè¾¹ç•Œï¼ˆéƒ½ä¸èƒ½ç¢°ï¼‰

ä»¥ä¸‹åŒºåŸŸ**åªæœ‰ PM èƒ½æ”¹**ï¼š

1. **`app/event/AppEventId.h`** - Event ID å®šä¹‰
2. **`app/adapter/*.h`** - æ‰€æœ‰ Adapter æ¥å£
3. **`app/controller/AppController.h`** - åº”ç”¨æ§åˆ¶å™¨æ¥å£
4. **æ¶æ„å†³ç­–** - çº¿ç¨‹æ¨¡å‹ã€Singleton ç­–ç•¥ã€æ¨¡å—è¾¹ç•Œ

**è¿ååæœ**ï¼šç«‹å³è¿”å·¥ï¼Œä¸è®¨è®ºæŠ€æœ¯ç»†èŠ‚

---

## ğŸš¨ PM æœ€å®ç”¨çš„ã€Œ3 ç§’æ£€æŸ¥æ³•ã€

ä»¥åä½ çœ‹åˆ°ä¸€ä¸ª **æ–°æ–‡ä»¶ / æ”¹åŠ¨**ï¼Œåªé—®ä¸‰ä»¶äº‹ï¼š

### 1ï¸âƒ£ å®ƒæ”¾åœ¨å“ªä¸ªç›®å½•ï¼Ÿ

```bash
# æ£€æŸ¥æ–‡ä»¶è·¯å¾„
git diff --name-only | grep "src/"
```

### 2ï¸âƒ£ è¿™ä¸ªç›®å½•æ˜¯è°è´Ÿè´£ï¼Ÿ

| ç›®å½• | è´Ÿè´£äºº | æ£€æŸ¥ |
|------|--------|------|
| `app/ui/pages/` | ğŸ¨ å·¥ç¨‹å¸ˆ A | âœ… å…è®¸ |
| `app/service/` | âš™ï¸ å·¥ç¨‹å¸ˆ B | âœ… å…è®¸ |
| `app/adapter/*.h` | ğŸ§  PM | âŒ å¿…é¡»ä½ æ”¹ |
| `app/event/AppEventId.h` | ğŸ§  PM | âŒ å¿…é¡»ä½ æ”¹ |

### 3ï¸âƒ£ è¿™ä¸ªäººæœ‰æ²¡æœ‰è¶Šæƒï¼Ÿ

**è¶Šæƒç¤ºä¾‹**ï¼š
- âŒ å·¥ç¨‹å¸ˆ A åœ¨ `app/service/` ä¸‹åˆ›å»ºæ–‡ä»¶ â†’ **è¿”å·¥**
- âŒ å·¥ç¨‹å¸ˆ B åœ¨ `app/ui/pages/` ä¸‹åˆ›å»ºæ–‡ä»¶ â†’ **è¿”å·¥**
- âŒ å·¥ç¨‹å¸ˆ B ä¿®æ”¹ `app/adapter/*.h` â†’ **è¿”å·¥**

**åªè¦æœ‰ä¸€ä¸ªä¸å¯¹ï¼šç›´æ¥è¿”å·¥ï¼Œä¸è®¨è®ºæŠ€æœ¯ç»†èŠ‚ã€‚**

---

## ğŸ“¢ å¯ä»¥ç›´æ¥å‘ç¾¤çš„"å®šè°ƒè¯æœ¯"

> **ç›®å½•å·²ç»æ ‡æ³¨åˆ†å·¥ï¼Œè°å†™ä»€ä¹ˆä¸€çœ¼å¯è§ã€‚**  
> **æ–‡ä»¶æ”¾é”™ç›®å½• = è¶Šæƒï¼Œè¶Šæƒä¸€å¾‹è¿”å·¥ã€‚**

---

## ğŸ”’ é«˜é£é™©åŒºåŸŸï¼ˆPM å¿…é¡» Reviewï¼‰

### å¿…é¡» PM Review çš„æ–‡ä»¶

1. **`app/event/AppEventId.h`** - Event ID å®šä¹‰
2. **`app/adapter/*.h`** - æ‰€æœ‰ Adapter æ¥å£
3. **`app/controller/AppController.h`** - åº”ç”¨æ§åˆ¶å™¨æ¥å£
4. **`app/viewmodeldata/*.h`** - æ•°æ®æ¨¡å‹æ¥å£ï¼ˆå‘½å/è¾¹ç•Œï¼‰

### Review æ£€æŸ¥ç‚¹

- âœ… æ¥å£æ˜¯å¦ç¬¦åˆæ¶æ„è®¾è®¡ï¼Ÿ
- âœ… å‘½åæ˜¯å¦ç¬¦åˆè§„èŒƒï¼Ÿ
- âœ… å•ä¾‹æ¨¡å¼æ˜¯å¦æ­£ç¡®ï¼Ÿ
- âœ… ä¾èµ–å…³ç³»æ˜¯å¦åˆç†ï¼Ÿ

---

## ğŸ“Š ç›®å½•ä¸è§’è‰²æ˜ å°„è¡¨

| ç›®å½• | PM | å·¥ç¨‹å¸ˆ A | å·¥ç¨‹å¸ˆ B | è¯´æ˜ |
|------|-----|---------|---------|------|
| `app/event/AppEventId.h` | **A** | I | I | Event å®šä¹‰ï¼ˆåªä½ èƒ½æ”¹ï¼‰ |
| `app/event/*.c` | A | I | **R** | Event å®ç° |
| `app/controller/` | **A** | I | R | æ§åˆ¶å™¨ï¼ˆä½ å®šæ¨¡æ¿ï¼‰ |
| `app/ui/pages/` | I | **R** | I | UI é¡µé¢ |
| `app/ui/widgets/` | I | **R** | I | UI ç»„ä»¶ |
| `app/ui/state/` | **A** | **R** | I | UI çŠ¶æ€ï¼ˆä½ å®šè§„åˆ™ï¼‰ |
| `app/input/input_controller.c` | **A** | **R** | I | è¾“å…¥æ³•æ§åˆ¶å™¨ï¼ˆä½ å®šè§„åˆ™ï¼‰ |
| `app/input/input_model.c` | I | **R** | I | è¾“å…¥çŠ¶æ€æ¨¡å‹ |
| `app/input/input_engine.c` | I | I | **R** | è¾“å…¥æ³•å¼•æ“ï¼ˆæœ¬åœ°åŒ¹é…ï¼‰ |
| `app/input/input_cache.c` | I | I | **R** | è¾“å…¥æ³•ç¼“å­˜ï¼ˆå†…å­˜ç´¢å¼•ï¼‰ |
| `app/viewmodeldata/` | **A** | I | **R** | æ•°æ®æ¨¡å‹ï¼ˆä½ å®šå‘½åï¼‰ |
| `app/service/` | I | I | **R** | ä¸šåŠ¡æœåŠ¡ |
| `app/adapter/*.h` | **A** | I | I | Adapter æ¥å£ï¼ˆåªä½ èƒ½æ”¹ï¼‰ |
| `app/adapter/*.c` | C | I | **R** | Adapter å®ç°ï¼ˆä½  reviewï¼‰ |
| `app/main/` | **A** | I | **R** | å¯åŠ¨æµç¨‹ï¼ˆä½ å®šè§„åˆ™ï¼‰ |
| `platform/` | **A** | I | **R** | å¹³å°å±‚ï¼ˆä½ å®šè¾¹ç•Œï¼‰ |

**å›¾ä¾‹**ï¼š
- **A** = Accountableï¼ˆæœ€ç»ˆè´£ä»» / æ‹æ¿ï¼‰
- **R** = Responsibleï¼ˆå®é™…å†™ä»£ç ï¼‰
- **C** = Consultedï¼ˆå¯å‚ä¸è®¨è®ºï¼‰
- **I** = Informedï¼ˆåªéœ€çŸ¥æƒ…ï¼‰

---

## ğŸš« ç¦æ­¢çš„è·¨ç›®å½•ä¾èµ–

### âŒ å·¥ç¨‹å¸ˆ A ç¦æ­¢

```c
// âŒ é”™è¯¯ï¼šUI å±‚ include Service
#include "service/CategoryService.h"  // ç¦æ­¢ï¼

// âœ… æ­£ç¡®ï¼šUI å±‚åª include Controller å’Œ Event
#include "controller/AppController.h"
#include "event/AppEvent.h"
```

### âŒ å·¥ç¨‹å¸ˆ B ç¦æ­¢

```c
// âŒ é”™è¯¯ï¼šService å±‚ include UI
#include "ui/pages/HomePage.h"  // ç¦æ­¢ï¼

// âœ… æ­£ç¡®ï¼šService å±‚åª include Service å’Œ Event
#include "service/CategoryService.h"
#include "event/AppEvent.h"
```

---

---

## ğŸ“‹ å¿«é€Ÿå‚è€ƒï¼ˆè´´å¢™ç‰ˆï¼‰

### ğŸ“ ç›®å½•åˆ†å·¥é€ŸæŸ¥è¡¨

| ç›®å½• | è´Ÿè´£äºº | è¯´æ˜ |
|------|--------|------|
| `app/ui/pages/` | ğŸ¨ A | UI é¡µé¢ |
| `app/ui/widgets/` | ğŸ¨ A | UI ç»„ä»¶ |
| `app/ui/state/` | ğŸ§  PMï¼ˆè§„åˆ™ï¼‰ğŸ¨ Aï¼ˆå®ç°ï¼‰ | UI çŠ¶æ€ |
| `app/service/` | âš™ï¸ B | ä¸šåŠ¡æœåŠ¡ |
| `app/viewmodeldata/` | âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆå‘½åï¼‰ | æ•°æ®æ¨¡å‹ |
| `app/adapter/*.h` | ğŸ§  PM | Adapter æ¥å£ ğŸ”’ |
| `app/adapter/*.c` | âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆreviewï¼‰ | Adapter å®ç° ğŸ”’ |
| `app/event/AppEventId.h` | ğŸ§  PM | Event ID å®šä¹‰ ğŸ”’ |
| `app/event/*.c` | âš™ï¸ Bï¼ˆå®ç°ï¼‰ğŸ§  PMï¼ˆå®šä¹‰ï¼‰ | Event å®ç° |
| `app/controller/` | ğŸ§  PMï¼ˆæ¨¡æ¿ï¼‰âš™ï¸ Bï¼ˆå®ç°ï¼‰ | æ§åˆ¶å™¨ |
| `app/main/` | ğŸ§  PMï¼ˆè§„åˆ™ï¼‰âš™ï¸ Bï¼ˆå®ç°ï¼‰ | å¯åŠ¨æµç¨‹ |
| `platform/` | ğŸ§  PMï¼ˆè¾¹ç•Œï¼‰âš™ï¸ Bï¼ˆé€‚é…ï¼‰ | å¹³å°å±‚ |

### ğŸš« ç¦æ­¢é¡¹é€ŸæŸ¥

**å·¥ç¨‹å¸ˆ A ç¦æ­¢**ï¼š
- âŒ `app/service/`
- âŒ `app/adapter/`
- âŒ `app/viewmodeldata/`
- âŒ `app/event/AppEventId.h`

**å·¥ç¨‹å¸ˆ B ç¦æ­¢**ï¼š
- âŒ `app/ui/pages/`
- âŒ `app/ui/widgets/`
- âŒ `app/adapter/*.h`
- âŒ `app/event/AppEventId.h`

### âœ… å…è®¸é¡¹é€ŸæŸ¥

**å·¥ç¨‹å¸ˆ A å…è®¸**ï¼š
- âœ… `app/ui/pages/`
- âœ… `app/ui/widgets/`
- âœ… `app/ui/state/`ï¼ˆæŒ‰ PM è§„åˆ™ï¼‰

**å·¥ç¨‹å¸ˆ B å…è®¸**ï¼š
- âœ… `app/service/`
- âœ… `app/viewmodeldata/`ï¼ˆæŒ‰ PM å‘½åï¼‰
- âœ… `app/adapter/*.c`ï¼ˆæŒ‰ PM æ¥å£ï¼‰
- âœ… `app/main/`ï¼ˆæŒ‰ PM è§„åˆ™ï¼‰

### ğŸš¨ è¶Šæƒæƒ…å†µé€ŸæŸ¥

| è¶Šæƒæƒ…å†µ | å¤„ç† |
|---------|------|
| å·¥ç¨‹å¸ˆ A åœ¨ `app/service/` åˆ›å»ºæ–‡ä»¶ | âŒ è¿”å·¥ |
| å·¥ç¨‹å¸ˆ B åœ¨ `app/ui/` åˆ›å»ºæ–‡ä»¶ | âŒ è¿”å·¥ |
| é PM ä¿®æ”¹ `app/adapter/*.h` | âŒ è¿”å·¥ |
| é PM ä¿®æ”¹ `app/event/AppEventId.h` | âŒ è¿”å·¥ |

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¨¡å—è´£ä»»è¡¨ï¼ˆRACIæœ€ç»ˆç‰ˆï¼‰.md](./æ¨¡å—è´£ä»»è¡¨ï¼ˆRACIæœ€ç»ˆç‰ˆï¼‰.md) â­â­â­ **å¿…è¯»**
- [PMä»£ç è¯„å®¡Checklistï¼ˆ3ç§’æ£€æŸ¥æ³•ï¼‰.md](./PMä»£ç è¯„å®¡Checklistï¼ˆ3ç§’æ£€æŸ¥æ³•ï¼‰.md) â­â­â­ **å¿…è¯»**
- [ä»£ç ç›®å½•ç»“æ„ç­‰äºæ¨¡å—è´£ä»»ç»“æ„ï¼ˆå®šç‰ˆï¼‰.md](./ä»£ç ç›®å½•ç»“æ„ç­‰äºæ¨¡å—è´£ä»»ç»“æ„ï¼ˆå®šç‰ˆï¼‰.md)

---

**æœ€åæ›´æ–°**: 2025-12-30  
**çŠ¶æ€**: âœ… å®šç‰ˆï¼ˆç›®å½• = åˆ†å·¥ = æƒé™ï¼‰  
**ç»´æŠ¤è€…**: Tech Product Owner

